<!DOCTYPE html>
<html>
<head>
  <title>åŒ…æ‹¬ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒšãƒ¼ã‚¸ - å®Ÿéš›ã®ç”»é¢è¡¨ç¤º</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Load jsPsych CSS for proper styling -->
  <link href="https://unpkg.com/jspsych@7/css/jspsych.css" rel="stylesheet" type="text/css" />
  <link href="../styles.css" rel="stylesheet" type="text/css" />
  <style>
    /* Override experiment styles to enable normal webpage scrolling */
    body {
      font-family: 'Noto Sans JP', 'ãƒ’ãƒ©ã‚®ãƒè§’ã‚´ Pro', 'Hiragino Kaku Gothic Pro', 'ãƒ¡ã‚¤ãƒªã‚ª', Meiryo, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f5f5f5;
      line-height: 1.6;
      /* Override styles.css constraints for normal webpage scrolling */
      overflow: visible !important;
      overflow-y: auto !important;
      height: auto !important;
      min-height: 100vh;
      width: 100%;
      display: block !important;
      align-items: initial !important;
      justify-content: initial !important;
    }
    
    /* Navigation controls */
    .nav-controls {
      position: fixed;
      top: 10px;
      right: 10px;
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.15);
      z-index: 1000;
      max-width: 300px;
    }
    
    .nav-controls h3 {
      margin: 0 0 15px 0;
      font-size: 16px;
      color: #2c3e50;
      text-align: center;
    }
    
    .nav-button {
      display: block;
      width: 100%;
      margin: 8px 0;
      padding: 12px 15px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 13px;
      font-weight: 500;
      text-align: left;
      transition: all 0.2s ease;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      opacity: 0.7;
    }
    
    .nav-button:hover, .nav-button.active {
      opacity: 1;
      transform: translateY(-1px);
      box-shadow: 0 2px 8px rgba(0,0,0,0.15);
    }
    
    .nav-button.result {
      background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    }
    
    /* Page content */
    .page-content {
      margin-right: 320px;
      background: white;
    }
    
    .page {
      display: none;
      padding: 0;
    }
    
    .page.active {
      display: block;
    }
    
    /* Actual experiment styles - mimicking index.html */
    .experiment-content {
      max-width: 1100px;
      margin: 0 auto;
      padding: 40px;
      font-family: 'Noto Sans JP', 'ãƒ’ãƒ©ã‚®ãƒè§’ã‚´ Pro', 'Hiragino Kaku Gothic Pro', 'ãƒ¡ã‚¤ãƒªã‚ª', Meiryo, sans-serif;
      line-height: 1.8;
      background-color: #ffffff;
    }
    
    @media (max-width: 768px) {
      .nav-controls {
        position: static;
        max-width: none;
        margin: 10px;
      }
      
      .page-content {
        margin-right: 0;
      }
    }
  </style>
</head>
<body>
  <!-- Navigation Controls -->
  <div class="nav-controls">
    <h3>ğŸ” å®Ÿéš›ã®ç”»é¢ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼</h3>
    
    <button class="nav-button active" onclick="showPage('memory-first-initial')">
      ğŸ“‹ è¨˜æ†¶èª²é¡Œå…ˆè¡Œ-åˆæœŸèª¬æ˜
    </button>
    
    <button class="nav-button" onclick="showPage('memory-second-initial')">
      ğŸ“‹ è¨˜æ†¶èª²é¡Œå¾Œè¡Œ-åˆæœŸèª¬æ˜
    </button>
    
    <button class="nav-button" onclick="showPage('memory-first-midpoint')">
      ğŸ”„ è¨˜æ†¶èª²é¡Œå…ˆè¡Œ-ä¸­é–“èª¬æ˜
    </button>
    
    <button class="nav-button" onclick="showPage('memory-second-midpoint')">
      ğŸ”„ è¨˜æ†¶èª²é¡Œå¾Œè¡Œ-ä¸­é–“èª¬æ˜
    </button>
    
    <button class="nav-button result" onclick="showPage('result')">
      ğŸ¯ ãƒªã‚¶ãƒ«ãƒˆãƒšãƒ¼ã‚¸
    </button>
  </div>

  <!-- Page Content Container -->
  <div class="page-content">
    
    <!-- Memory-First Initial Explanation - EXACT copy from index.html -->
    <div id="memory-first-initial" class="page active">
      <div class="experiment-content" id="memory-first-content">
        <!-- Content will be loaded by JavaScript -->
      </div>
    </div>

    <!-- Memory-Second Initial Explanation -->
    <div id="memory-second-initial" class="page">
      <div class="experiment-content" id="memory-second-content">
        <!-- Content will be loaded by JavaScript -->
      </div>
    </div>

    <!-- Memory-First Midpoint Explanation -->
    <div id="memory-first-midpoint" class="page">
      <div class="experiment-content" id="memory-first-midpoint-content">
        <!-- Content will be loaded by JavaScript -->
      </div>
    </div>

    <!-- Memory-Second Midpoint Explanation -->
    <div id="memory-second-midpoint" class="page">
      <div class="experiment-content" id="memory-second-midpoint-content">
        <!-- Content will be loaded by JavaScript -->
      </div>
    </div>

    <!-- Result Page -->
    <div id="result" class="page">
      <div class="experiment-content" id="result-content">
        <!-- Content will be loaded by JavaScript -->
      </div>
    </div>
  </div>

  <script>
    // Function to generate memory-first initial explanation - copied from index.html
    function generateMemoryFirstInitialExplanation() {
      let html = '<div style="max-width: 1100px; margin: 0 auto; padding: 40px; font-family: \'Noto Sans JP\', \'ãƒ’ãƒ©ã‚®ãƒè§’ã‚´ Pro\', \'Hiragino Kaku Gothic Pro\', \'ãƒ¡ã‚¤ãƒªã‚ª\', Meiryo, sans-serif; line-height: 1.8; background-color: #ffffff;">';
      
      // Title
      html += '<h1 style="text-align: center; color: #2c3e50; margin-bottom: 40px; font-size: 28px; font-weight: bold;">ãƒ«ãƒ¼ãƒ«èª¬æ˜</h1>';
      
      // Operation flow overview
      html += '<div style="background-color: #f8f9fa; border: 3px solid #dee2e6; border-radius: 12px; padding: 25px; margin-bottom: 30px;">';
      html += '<h2 style="color: #495057; margin-top: 0; font-size: 22px; text-align: center;">å®Ÿé¨“ã®æµã‚Œ</h2>';
      html += '<div style="display: flex; justify-content: space-between; align-items: center; margin: 20px 0; flex-wrap: wrap; gap: 15px;">';
      html += '<div style="text-align: center; flex: 1; min-width: 120px; background-color: #fff3cd; padding: 15px; border-radius: 8px; border: 2px solid #ffeaa7;">';
      html += '<div style="background-color: #856404; color: white; border-radius: 50%; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; margin: 0 auto 10px; font-weight: bold;">1</div>';
      html += '<strong>è¨˜æ†¶èª²é¡Œ</strong><br>ä½ç½®ã‚’è¦šãˆã‚‹';
      html += '</div>';
      html += '<div style="font-size: 24px; color: #6c757d;">â†’</div>';
      html += '<div style="text-align: center; flex: 1; min-width: 120px; background-color: #d1ecf1; padding: 15px; border-radius: 8px; border: 2px solid #bee5eb;">';
      html += '<div style="background-color: #0c5460; color: white; border-radius: 50%; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; margin: 0 auto 10px; font-weight: bold;">2</div>';
      html += '<strong>ã‚¿ãƒ¼ã‚²ãƒƒãƒˆç¢ºèª</strong><br>å›³å½¢ã‚’è¦šãˆã‚‹';
      html += '</div>';
      html += '<div style="font-size: 24px; color: #6c757d;">â†’</div>';
      html += '<div style="text-align: center; flex: 1; min-width: 120px; background-color: #e3f2fd; padding: 15px; border-radius: 8px; border: 2px solid #2196f3;">';
      html += '<div style="background-color: #1976d2; color: white; border-radius: 50%; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; margin: 0 auto 10px; font-weight: bold;">3</div>';
      html += '<strong>å›³å½¢æ¢ç´¢</strong><br>ã‚¯ãƒªãƒƒã‚¯ã§å›ç­”';
      html += '</div>';
      html += '<div style="font-size: 24px; color: #6c757d;">â†’</div>';
      html += '<div style="text-align: center; flex: 1; min-width: 120px; background-color: #fff3cd; padding: 15px; border-radius: 8px; border: 2px solid #ffeaa7;">';
      html += '<div style="background-color: #856404; color: white; border-radius: 50%; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; margin: 0 auto 10px; font-weight: bold;">4</div>';
      html += '<strong>è¨˜æ†¶å›ç­”</strong><br>ä½ç½®ã‚’ã‚¯ãƒªãƒƒã‚¯';
      html += '</div>';
      html += '</div>';
      html += '<p style="text-align: center; font-size: 18px; margin: 15px 0; color: #dc3545; font-weight: bold;">ã“ã®æµã‚Œã‚’ä½•åº¦ã‚‚ç¹°ã‚Šè¿”ã—ã¾ã™</p>';
      html += '</div>';
      
      // Memory task explanation with larger image
      html += '<div style="background-color: #fff3cd; border: 2px solid #ffeaa7; border-radius: 8px; padding: 25px; margin-bottom: 30px;">';
      html += '<h2 style="color: #856404; margin-top: 0; font-size: 22px;">ã€ã‚¹ãƒ†ãƒƒãƒ—1ã€‘è¨˜æ†¶èª²é¡Œã«ã¤ã„ã¦</h2>';
      html += '<div style="display: flex; gap: 30px; align-items: center; flex-wrap: wrap;">';
      html += '<div style="flex: 1; min-width: 350px;">';
      html += '<p style="font-size: 18px; margin: 15px 0;">ã¾ãšã€4Ã—4ã®ã‚°ãƒªãƒƒãƒ‰ã«è‰²ã®ã¤ã„ãŸã‚»ãƒ«ãŒ<strong>3ç§’é–“</strong>è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚ãã®ä½ç½®ã‚’ã—ã£ã‹ã‚Šã¨è¦šãˆã¦ãã ã•ã„ã€‚</p>';
      html += '<p style="font-size: 16px; margin: 10px 0; color: #856404;"><strong>é‡è¦ï¼š</strong> è¨˜æ†¶èª²é¡Œã®ç²¾åº¦ãŒå®Ÿé¨“ã®æˆåŠŸã«é‡è¦ã§ã™ã€‚</p>';
      html += '</div>';
      html += '<div style="flex: 0 0 auto;">';
      html += '<img src="../screen_shots/7_memory_task_presentation.png" alt="è¨˜æ†¶èª²é¡Œã®è¡¨ç¤ºä¾‹" style="max-width: 400px; height: auto; border: 2px solid #ddd; border-radius: 5px; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">';
      html += '</div>';
      html += '</div>';
      html += '</div>';
      
      // Target presentation with larger image
      html += '<div style="background-color: #d1ecf1; border: 2px solid #bee5eb; border-radius: 8px; padding: 25px; margin-bottom: 30px;">';
      html += '<h2 style="color: #0c5460; margin-top: 0; font-size: 22px;">ã€ã‚¹ãƒ†ãƒƒãƒ—2ã€‘ã‚¿ãƒ¼ã‚²ãƒƒãƒˆå›³å½¢ã®ç¢ºèª</h2>';
      html += '<div style="display: flex; gap: 30px; align-items: center; flex-wrap: wrap;">';
      html += '<div style="flex: 1; min-width: 350px;">';
      html += '<p style="font-size: 18px; margin: 15px 0;">æ¬¡ã«ã€æ¢ã™å›³å½¢ãŒ<strong>1ç§’é–“</strong>è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚è‰²ã¨å½¢ã‚’ã—ã£ã‹ã‚Šè¦šãˆã¦ãã ã•ã„ã€‚</p>';
      html += '<p style="font-size: 16px; margin: 10px 0; color: #0c5460;"><strong>é‡è¦ï¼š</strong> ã“ã®å›³å½¢ã‚’å›³å½¢æ¢ç´¢ã§è¦‹ã¤ã‘ã¦ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚</p>';
      html += '</div>';
      html += '<div style="flex: 0 0 auto;">';
      html += '<img src="../screen_shots/1_target_presentation.png" alt="ã‚¿ãƒ¼ã‚²ãƒƒãƒˆå›³å½¢ã®è¡¨ç¤ºä¾‹" style="max-width: 400px; height: auto; border: 2px solid #ddd; border-radius: 5px; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">';
      html += '</div>';
      html += '</div>';
      html += '</div>';
      
      // 3 viewing conditions with random selection emphasis
      html += '<div style="margin-bottom: 30px;">';
      html += '<h2 style="color: #dc3545; font-size: 22px; margin-bottom: 20px;">ã€ã‚¹ãƒ†ãƒƒãƒ—3ã€‘å›³å½¢æ¢ç´¢ - 3ã¤ã®è¡¨ç¤ºæ¡ä»¶</h2>';
      html += '<div style="background-color: #fff8dc; border: 3px dashed #ffa500; border-radius: 12px; padding: 20px; margin-bottom: 20px; text-align: center;">';
      html += '<h3 style="color: #ff6600; margin: 0; font-size: 20px;">âš ï¸ é‡è¦ï¼šè¡¨ç¤ºæ¡ä»¶ã¯ãƒ©ãƒ³ãƒ€ãƒ ã«é¸ã°ã‚Œã¾ã™</h3>';
      html += '<p style="font-size: 16px; margin: 10px 0; color: #ff6600;">ã©ã®æ¡ä»¶ãŒå‡ºã‚‹ã‹ã¯äºˆæ¸¬ã§ãã¾ã›ã‚“ã€‚å„æ¡ä»¶ã«æ…£ã‚Œã¦ãŠã„ã¦ãã ã•ã„ã€‚</p>';
      html += '</div>';
      
      // Fullscreen condition
      html += '<div style="background-color: #e3f2fd; border: 2px solid #2196f3; border-radius: 8px; padding: 20px; margin-bottom: 20px;">';
      html += '<h3 style="color: #1976d2; margin: 0 0 15px 0; font-size: 20px;">ã€æ¡ä»¶Aã€‘å…¨ç”»é¢æ¡ä»¶</h3>';
      html += '<div style="display: flex; gap: 25px; align-items: center; flex-wrap: wrap;">';
      html += '<div style="flex: 1; min-width: 300px;">';
      html += '<p style="margin: 8px 0; font-size: 16px;"><strong>è¡¨ç¤ºï¼š</strong> ç”»é¢å…¨ä½“ã«å›³å½¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™</p>';
      html += '<p style="margin: 8px 0; font-size: 16px;"><strong>æ“ä½œï¼š</strong> è‡ªç”±ã«ãƒã‚¦ã‚¹ã‚«ãƒ¼ã‚½ãƒ«ã‚’å‹•ã‹ã—ã¦å›³å½¢ã‚’æ¢ã—ã¾ã™</p>';
      html += '<p style="margin: 8px 0; font-size: 16px; color: #1976d2;"><strong>ç›®æ¨™ï¼š</strong> ã§ãã‚‹ã ã‘é€Ÿãã€æ­£ç¢ºã«ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚’ã‚¯ãƒªãƒƒã‚¯</p>';
      html += '</div>';
      html += '<div style="flex: 0 0 auto;">';
      html += '<img src="../screen_shots/2_fullscreen.png" alt="å…¨ç”»é¢æ¡ä»¶ã®ä¾‹" style="max-width: 350px; height: auto; border: 2px solid #ddd; border-radius: 5px; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">';
      html += '</div>';
      html += '</div>';
      html += '</div>';
      
      // Window drag condition
      html += '<div style="background-color: #fff3e0; border: 2px solid #ffb74d; border-radius: 8px; padding: 20px; margin-bottom: 20px;">';
      html += '<h3 style="color: #e65100; margin: 0 0 15px 0; font-size: 20px;">ã€æ¡ä»¶Bã€‘ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãƒ‰ãƒ©ãƒƒã‚°æ¡ä»¶</h3>';
      html += '<div style="display: flex; gap: 25px; align-items: center; flex-wrap: wrap;">';
      html += '<div style="flex: 1; min-width: 300px;">';
      html += '<p style="margin: 8px 0; font-size: 16px;"><strong>è¡¨ç¤ºï¼š</strong> é™ã‚‰ã‚ŒãŸçª“ã‚’é€šã—ã¦å›³å½¢ã‚’è¦‹ã¾ã™</p>';
      html += '<p style="margin: 8px 0; font-size: 16px;"><strong>æ“ä½œï¼š</strong> çª“ã‚’ãƒ‰ãƒ©ãƒƒã‚°ã—ã¦ç§»å‹•ã—ã€å›³å½¢ã‚’æ¢ã—ã¾ã™</p>';
      html += '<p style="margin: 8px 0; font-size: 16px; color: #e65100;"><strong>ç›®æ¨™ï¼š</strong> åŠ¹ç‡çš„ã«çª“ã‚’å‹•ã‹ã—ã¦ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚’è¦‹ã¤ã‘ã‚‹</p>';
      html += '</div>';
      html += '<div style="flex: 0 0 auto;">';
      html += '<img src="../screen_shots/3_window_initial.png" alt="ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãƒ‰ãƒ©ãƒƒã‚°æ¡ä»¶ã®ä¾‹" style="max-width: 350px; height: auto; border: 2px solid #ddd; border-radius: 5px; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">';
      html += '</div>';
      html += '</div>';
      html += '</div>';
      
      // Scroll condition
      html += '<div style="background-color: #f1f8e9; border: 2px solid #aed581; border-radius: 8px; padding: 20px; margin-bottom: 30px;">';
      html += '<h3 style="color: #33691e; margin: 0 0 15px 0; font-size: 20px;">ã€æ¡ä»¶Cã€‘ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«æ¡ä»¶</h3>';
      html += '<div style="display: flex; gap: 25px; align-items: center; flex-wrap: wrap;">';
      html += '<div style="flex: 1; min-width: 300px;">';
      html += '<p style="margin: 8px 0; font-size: 16px;"><strong>è¡¨ç¤ºï¼š</strong> é™ã‚‰ã‚ŒãŸé ˜åŸŸã«å›³å½¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™</p>';
      html += '<p style="margin: 8px 0; font-size: 16px;"><strong>æ“ä½œï¼š</strong> é ˜åŸŸå†…ã‚’ã‚¯ãƒªãƒƒã‚¯ï¼†ãƒ‰ãƒ©ãƒƒã‚°ã—ã¦ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã¾ã™</p>';
      html += '<p style="margin: 8px 0; font-size: 16px; color: #33691e;"><strong>ç›®æ¨™ï¼š</strong> ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚’ä½¿ã£ã¦åŠ¹ç‡çš„ã«ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚’æ¢ã™</p>';
      html += '</div>';
      html += '<div style="flex: 0 0 auto;">';
      html += '<img src="../screen_shots/5_scroll_initial.png" alt="ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«æ¡ä»¶ã®ä¾‹" style="max-width: 350px; height: auto; border: 2px solid #ddd; border-radius: 5px; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">';
      html += '</div>';
      html += '</div>';
      html += '</div>';
      html += '</div>';
      
      // Memory task recall with larger image
      html += '<div style="background-color: #fff3cd; border: 2px solid #ffeaa7; border-radius: 8px; padding: 25px; margin-bottom: 30px;">';
      html += '<h2 style="color: #856404; margin-top: 0; font-size: 22px;">ã€ã‚¹ãƒ†ãƒƒãƒ—4ã€‘è¨˜æ†¶èª²é¡Œã®å›ç­”</h2>';
      html += '<div style="display: flex; gap: 30px; align-items: center; flex-wrap: wrap;">';
      html += '<div style="flex: 1; min-width: 350px;">';
      html += '<p style="font-size: 18px; margin: 15px 0;">å›³å½¢æ¢ç´¢ãŒçµ‚ã‚ã£ãŸã‚‰ã€æœ€åˆã«è¦šãˆãŸ<strong>è‰²ã®ã¤ã„ãŸã‚»ãƒ«ã®ä½ç½®</strong>ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦å›ç­”ã—ã¦ãã ã•ã„ã€‚</p>';
      html += '<p style="font-size: 16px; margin: 10px 0; color: #856404;"><strong>æ³¨æ„ï¼š</strong> è¨˜æ†¶ã—ã¦ã„ã‚‹ä½ç½®ã‚’ã§ãã‚‹ã ã‘æ­£ç¢ºã«ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãã ã•ã„ã€‚</p>';
      html += '</div>';
      html += '<div style="flex: 0 0 auto;">';
      html += '<img src="../screen_shots/8_memory_task_response.png" alt="è¨˜æ†¶èª²é¡Œã®å›ç­”ç”»é¢" style="max-width: 400px; height: auto; border: 2px solid #ddd; border-radius: 5px; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">';
      html += '</div>';
      html += '</div>';
      html += '</div>';
      
      // Final emphasis on repetition and speed/accuracy
      html += '<div style="background-color: #e8f5e8; border: 3px solid #4caf50; border-radius: 12px; padding: 25px; margin-bottom: 30px; text-align: center;">';
      html += '<h3 style="color: #2e7d32; margin: 0 0 15px 0; font-size: 20px;">å®Ÿé¨“ã®é€²è¡Œã«ã¤ã„ã¦</h3>';
      html += '<p style="font-size: 18px; margin: 10px 0; color: #2e7d32;">ä¸Šè¨˜ã®4ã‚¹ãƒ†ãƒƒãƒ—ã‚’<strong>å¤šæ•°å›ç¹°ã‚Šè¿”ã—</strong>ã¾ã™ã€‚</p>';
      html += '<p style="font-size: 18px; margin: 10px 0; color: #2e7d32;">ã™ã¹ã¦ã®è©¦è¡Œã§<strong>ã§ãã‚‹ã ã‘é€Ÿãã€æ­£ç¢ºã«</strong>å›ç­”ã™ã‚‹ã“ã¨ã‚’å¿ƒãŒã‘ã¦ãã ã•ã„ã€‚</p>';
      html += '</div>';
      
      // Continue button
      html += '<div style="text-align: center; margin-top: 40px;">';
      html += '<button id="initial-continue-btn" style="background-color: #007bff; color: white; border: none; padding: 20px 40px; font-size: 20px; border-radius: 10px; cursor: pointer; font-weight: bold; box-shadow: 0 4px 8px rgba(0,0,0,0.2);">ç·´ç¿’ã«é€²ã‚€</button>';
      html += '</div>';
      
      html += '</div>';
      
      return html;
    }

    // Function to generate memory-second initial explanation - copied from index.html
    function generateMemorySecondInitialExplanation() {
      let html = '<div style="max-width: 1100px; margin: 0 auto; padding: 40px; font-family: \'Noto Sans JP\', \'ãƒ’ãƒ©ã‚®ãƒè§’ã‚´ Pro\', \'Hiragino Kaku Gothic Pro\', \'ãƒ¡ã‚¤ãƒªã‚ª\', Meiryo, sans-serif; line-height: 1.8; background-color: #ffffff;">';
      
      // Title
      html += '<h1 style="text-align: center; color: #2c3e50; margin-bottom: 40px; font-size: 28px; font-weight: bold;">ãƒ«ãƒ¼ãƒ«èª¬æ˜</h1>';
      
      // Operation flow overview (simplified for memory-second group)
      html += '<div style="background-color: #f8f9fa; border: 3px solid #dee2e6; border-radius: 12px; padding: 25px; margin-bottom: 30px;">';
      html += '<h2 style="color: #495057; margin-top: 0; font-size: 22px; text-align: center;">å‰åŠã®æµã‚Œï¼ˆã‚·ãƒ³ãƒ—ãƒ«ï¼‰</h2>';
      html += '<div style="display: flex; justify-content: space-between; align-items: center; margin: 20px 0; flex-wrap: wrap; gap: 15px;">';
      html += '<div style="text-align: center; flex: 1; min-width: 150px; background-color: #d1ecf1; padding: 15px; border-radius: 8px; border: 2px solid #bee5eb;">';
      html += '<div style="background-color: #0c5460; color: white; border-radius: 50%; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; margin: 0 auto 10px; font-weight: bold;">1</div>';
      html += '<strong>ã‚¿ãƒ¼ã‚²ãƒƒãƒˆç¢ºèª</strong><br>å›³å½¢ã‚’è¦šãˆã‚‹';
      html += '</div>';
      html += '<div style="font-size: 24px; color: #6c757d;">â†’</div>';
      html += '<div style="text-align: center; flex: 1; min-width: 150px; background-color: #e3f2fd; padding: 15px; border-radius: 8px; border: 2px solid #2196f3;">';
      html += '<div style="background-color: #1976d2; color: white; border-radius: 50%; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; margin: 0 auto 10px; font-weight: bold;">2</div>';
      html += '<strong>å›³å½¢æ¢ç´¢</strong><br>ã‚¯ãƒªãƒƒã‚¯ã§å›ç­”';
      html += '</div>';
      html += '</div>';
      html += '<p style="text-align: center; font-size: 18px; margin: 15px 0; color: #dc3545; font-weight: bold;">ã“ã®æµã‚Œã‚’ä½•åº¦ã‚‚ç¹°ã‚Šè¿”ã—ã¾ã™</p>';
      html += '<p style="text-align: center; font-size: 16px; margin: 15px 0; color: #6c757d;">å¾ŒåŠã§ã¯è¨˜æ†¶èª²é¡ŒãŒè¿½åŠ ã•ã‚Œã¾ã™ï¼ˆè©³ç´°ã¯å¾Œã§èª¬æ˜ï¼‰</p>';
      html += '</div>';
      
      // Target presentation with larger image
      html += '<div style="background-color: #d1ecf1; border: 2px solid #bee5eb; border-radius: 8px; padding: 25px; margin-bottom: 30px;">';
      html += '<h2 style="color: #0c5460; margin-top: 0; font-size: 22px;">ã€ã‚¹ãƒ†ãƒƒãƒ—1ã€‘ã‚¿ãƒ¼ã‚²ãƒƒãƒˆå›³å½¢ã®ç¢ºèª</h2>';
      html += '<div style="display: flex; gap: 30px; align-items: center; flex-wrap: wrap;">';
      html += '<div style="flex: 1; min-width: 350px;">';
      html += '<p style="font-size: 18px; margin: 15px 0;">ã¾ãšã€æ¢ã™å›³å½¢ãŒ<strong>1ç§’é–“</strong>è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚è‰²ã¨å½¢ã‚’ã—ã£ã‹ã‚Šè¦šãˆã¦ãã ã•ã„ã€‚</p>';
      html += '<p style="font-size: 16px; margin: 10px 0; color: #0c5460;"><strong>é‡è¦ï¼š</strong> ã“ã®å›³å½¢ã‚’å›³å½¢æ¢ç´¢ã§è¦‹ã¤ã‘ã¦ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚</p>';
      html += '</div>';
      html += '<div style="flex: 0 0 auto;">';
      html += '<img src="../screen_shots/1_target_presentation.png" alt="ã‚¿ãƒ¼ã‚²ãƒƒãƒˆå›³å½¢ã®è¡¨ç¤ºä¾‹" style="max-width: 400px; height: auto; border: 2px solid #ddd; border-radius: 5px; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">';
      html += '</div>';
      html += '</div>';
      html += '</div>';

      // 3 viewing conditions with random selection emphasis
      html += '<div style="margin-bottom: 30px;">';
      html += '<h2 style="color: #dc3545; font-size: 22px; margin-bottom: 20px;">ã€ã‚¹ãƒ†ãƒƒãƒ—2ã€‘å›³å½¢æ¢ç´¢ - 3ã¤ã®è¡¨ç¤ºæ¡ä»¶</h2>';
      html += '<div style="background-color: #fff8dc; border: 3px dashed #ffa500; border-radius: 12px; padding: 20px; margin-bottom: 20px; text-align: center;">';
      html += '<h3 style="color: #ff6600; margin: 0; font-size: 20px;">âš ï¸ é‡è¦ï¼šè¡¨ç¤ºæ¡ä»¶ã¯ãƒ©ãƒ³ãƒ€ãƒ ã«é¸ã°ã‚Œã¾ã™</h3>';
      html += '<p style="font-size: 16px; margin: 10px 0; color: #ff6600;">ã©ã®æ¡ä»¶ãŒå‡ºã‚‹ã‹ã¯äºˆæ¸¬ã§ãã¾ã›ã‚“ã€‚å„æ¡ä»¶ã«æ…£ã‚Œã¦ãŠã„ã¦ãã ã•ã„ã€‚</p>';
      html += '</div>';
      
      // Fullscreen condition
      html += '<div style="background-color: #e3f2fd; border: 2px solid #2196f3; border-radius: 8px; padding: 20px; margin-bottom: 20px;">';
      html += '<h3 style="color: #1976d2; margin: 0 0 15px 0; font-size: 20px;">ã€æ¡ä»¶Aã€‘å…¨ç”»é¢æ¡ä»¶</h3>';
      html += '<div style="display: flex; gap: 25px; align-items: center; flex-wrap: wrap;">';
      html += '<div style="flex: 1; min-width: 300px;">';
      html += '<p style="margin: 8px 0; font-size: 16px;"><strong>è¡¨ç¤ºï¼š</strong> ç”»é¢å…¨ä½“ã«å›³å½¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™</p>';
      html += '<p style="margin: 8px 0; font-size: 16px;"><strong>æ“ä½œï¼š</strong> è‡ªç”±ã«ãƒã‚¦ã‚¹ã‚«ãƒ¼ã‚½ãƒ«ã‚’å‹•ã‹ã—ã¦å›³å½¢ã‚’æ¢ã—ã¾ã™</p>';
      html += '<p style="margin: 8px 0; font-size: 16px; color: #1976d2;"><strong>ç›®æ¨™ï¼š</strong> ã§ãã‚‹ã ã‘é€Ÿãã€æ­£ç¢ºã«ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚’ã‚¯ãƒªãƒƒã‚¯</p>';
      html += '</div>';
      html += '<div style="flex: 0 0 auto;">';
      html += '<img src="../screen_shots/2_fullscreen.png" alt="å…¨ç”»é¢æ¡ä»¶ã®ä¾‹" style="max-width: 350px; height: auto; border: 2px solid #ddd; border-radius: 5px; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">';
      html += '</div>';
      html += '</div>';
      html += '</div>';
      
      // Window drag condition
      html += '<div style="background-color: #fff3e0; border: 2px solid #ffb74d; border-radius: 8px; padding: 20px; margin-bottom: 20px;">';
      html += '<h3 style="color: #e65100; margin: 0 0 15px 0; font-size: 20px;">ã€æ¡ä»¶Bã€‘ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãƒ‰ãƒ©ãƒƒã‚°æ¡ä»¶</h3>';
      html += '<div style="display: flex; gap: 25px; align-items: center; flex-wrap: wrap;">';
      html += '<div style="flex: 1; min-width: 300px;">';
      html += '<p style="margin: 8px 0; font-size: 16px;"><strong>è¡¨ç¤ºï¼š</strong> é™ã‚‰ã‚ŒãŸçª“ã‚’é€šã—ã¦å›³å½¢ã‚’è¦‹ã¾ã™</p>';
      html += '<p style="margin: 8px 0; font-size: 16px;"><strong>æ“ä½œï¼š</strong> çª“ã‚’ãƒ‰ãƒ©ãƒƒã‚°ã—ã¦ç§»å‹•ã—ã€å›³å½¢ã‚’æ¢ã—ã¾ã™</p>';
      html += '<p style="margin: 8px 0; font-size: 16px; color: #e65100;"><strong>ç›®æ¨™ï¼š</strong> åŠ¹ç‡çš„ã«çª“ã‚’å‹•ã‹ã—ã¦ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚’è¦‹ã¤ã‘ã‚‹</p>';
      html += '</div>';
      html += '<div style="flex: 0 0 auto;">';
      html += '<img src="../screen_shots/3_window_initial.png" alt="ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãƒ‰ãƒ©ãƒƒã‚°æ¡ä»¶ã®ä¾‹" style="max-width: 350px; height: auto; border: 2px solid #ddd; border-radius: 5px; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">';
      html += '</div>';
      html += '</div>';
      html += '</div>';
      
      // Scroll condition
      html += '<div style="background-color: #f1f8e9; border: 2px solid #aed581; border-radius: 8px; padding: 20px; margin-bottom: 30px;">';
      html += '<h3 style="color: #33691e; margin: 0 0 15px 0; font-size: 20px;">ã€æ¡ä»¶Cã€‘ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«æ¡ä»¶</h3>';
      html += '<div style="display: flex; gap: 25px; align-items: center; flex-wrap: wrap;">';
      html += '<div style="flex: 1; min-width: 300px;">';
      html += '<p style="margin: 8px 0; font-size: 16px;"><strong>è¡¨ç¤ºï¼š</strong> é™ã‚‰ã‚ŒãŸé ˜åŸŸã«å›³å½¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™</p>';
      html += '<p style="margin: 8px 0; font-size: 16px;"><strong>æ“ä½œï¼š</strong> é ˜åŸŸå†…ã‚’ã‚¯ãƒªãƒƒã‚¯ï¼†ãƒ‰ãƒ©ãƒƒã‚°ã—ã¦ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã¾ã™</p>';
      html += '<p style="margin: 8px 0; font-size: 16px; color: #33691e;"><strong>ç›®æ¨™ï¼š</strong> ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚’ä½¿ã£ã¦åŠ¹ç‡çš„ã«ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚’æ¢ã™</p>';
      html += '</div>';
      html += '<div style="flex: 0 0 auto;">';
      html += '<img src="../screen_shots/5_scroll_initial.png" alt="ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«æ¡ä»¶ã®ä¾‹" style="max-width: 350px; height: auto; border: 2px solid #ddd; border-radius: 5px; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">';
      html += '</div>';
      html += '</div>';
      html += '</div>';
      html += '</div>';
      
      // Continue to practice with emphasis
      html += '<div style="background-color: #e8f5e8; border: 3px solid #4caf50; border-radius: 12px; padding: 25px; margin-bottom: 30px; text-align: center;">';
      html += '<h3 style="color: #2e7d32; margin: 0 0 15px 0; font-size: 20px;">å‰åŠã®ç·´ç¿’ã«ã¤ã„ã¦</h3>';
      html += '<p style="font-size: 18px; margin: 10px 0; color: #2e7d32;">ã¾ãšã¯ä¸Šè¨˜ã®2ã‚¹ãƒ†ãƒƒãƒ—ï¼ˆã‚¿ãƒ¼ã‚²ãƒƒãƒˆç¢ºèªâ†’å›³å½¢æ¢ç´¢ï¼‰ã‚’<strong>ç·´ç¿’</strong>ã—ã¾ã™ã€‚</p>';
      html += '<p style="font-size: 16px; margin: 5px 0; color: #856404;"><strong>æ³¨æ„ï¼š</strong> å®Ÿé¨“ã®å¾ŒåŠã§ã¯è¨˜æ†¶èª²é¡ŒãŒè¿½åŠ ã•ã‚Œã¾ã™ã€‚è©³ç´°ã¯å¾ŒåŠé–‹å§‹æ™‚ã«èª¬æ˜ã—ã¾ã™ã€‚</p>';
      html += '</div>';
      
      // Continue button
      html += '<div style="text-align: center; margin-top: 40px;">';
      html += '<button id="initial-continue-btn" style="background-color: #007bff; color: white; border: none; padding: 20px 40px; font-size: 20px; border-radius: 10px; cursor: pointer; font-weight: bold; box-shadow: 0 4px 8px rgba(0,0,0,0.2);">ç·´ç¿’ã«é€²ã‚€</button>';
      html += '</div>';
      
      html += '</div>';
      
      return html;
    }

    // Function to generate memory-first midpoint explanation - copied from index.html
    function generateMemoryFirstMidpointExplanation() {
      let html = '<div style="max-width: 900px; margin: 0 auto; padding: 40px; font-family: \'Noto Sans JP\', \'ãƒ’ãƒ©ã‚®ãƒè§’ã‚´ Pro\', \'Hiragino Kaku Gothic Pro\', \'ãƒ¡ã‚¤ãƒªã‚ª\', Meiryo, sans-serif; line-height: 1.8; background-color: #ffffff; text-align: center;">';
      
      html += '<h1 style="color: #2c3e50; margin-bottom: 30px; font-size: 28px; font-weight: bold;">ã“ã‚Œã§å‰åŠãŒçµ‚äº†ã§ã™</h1>';
      
      // Progress indicator
      html += '<div style="background-color: #d4edda; border: 2px solid #c3e6cb; border-radius: 8px; padding: 20px; margin-bottom: 25px;">';
      html += '<h2 style="color: #155724; margin-top: 0; font-size: 20px;">å‰åŠï¼šè¨˜æ†¶èª²é¡Œ + å›³å½¢æ¢ç´¢ å®Œäº†</h2>';
      html += '<p style="font-size: 16px; margin: 10px 0; color: #155724;">ãŠç–²ã‚Œæ§˜ã§ã—ãŸï¼å‰åŠã®è¨˜æ†¶èª²é¡Œä»˜ãã®è©¦è¡ŒãŒçµ‚äº†ã—ã¾ã—ãŸã€‚</p>';
      html += '</div>';
      
      // What changes in second half
      html += '<div style="background-color: #cff4fc; border: 2px solid #b6effb; border-radius: 8px; padding: 20px; margin-bottom: 25px; text-align: left;">';
      html += '<h2 style="color: #055160; margin-top: 0; font-size: 20px;">å¾ŒåŠã®å¤‰æ›´ç‚¹</h2>';
      html += '<p style="font-size: 16px; margin: 10px 0; color: #055160;">å¾ŒåŠã¯è¨˜æ†¶èª²é¡ŒãŒãªããªã‚Šã€å›³å½¢æ¢ç´¢ã®ã¿ã«ãªã‚Šã¾ã™ã€‚</p>';
      
      // Show target presentation image
      html += '<div style="display: flex; gap: 20px; align-items: center; flex-wrap: wrap; margin-top: 15px;">';
      html += '<div style="flex: 1; min-width: 300px;">';
      html += '<p style="font-size: 15px; margin: 5px 0; color: #055160;"><strong>æ‰‹é †ï¼š</strong></p>';
      html += '<p style="font-size: 15px; margin: 5px 0; color: #055160;">1. ã‚¿ãƒ¼ã‚²ãƒƒãƒˆå›³å½¢ã®ç¢ºèªï¼ˆ1ç§’é–“ï¼‰</p>';
      html += '<p style="font-size: 15px; margin: 5px 0; color: #055160;">2. å›³å½¢æ¢ç´¢ï¼ˆã‚¯ãƒªãƒƒã‚¯ã§å›ç­”ï¼‰</p>';
      html += '</div>';
      html += '<div style="flex: 0 0 auto;">';
      html += '<img src="../screen_shots/1_target_presentation.png" alt="ã‚¿ãƒ¼ã‚²ãƒƒãƒˆå›³å½¢ã®è¡¨ç¤ºä¾‹" style="max-width: 300px; height: auto; border: 2px solid #ddd; border-radius: 5px; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">';
      html += '</div>';
      html += '</div>';
      html += '</div>';
      
      // Encouragement
      html += '<p style="font-size: 18px; margin: 20px 0; color: #333;">è¨˜æ†¶èª²é¡ŒãŒãªããªã‚‹ã®ã§ã€å›³å½¢æ¢ç´¢ã«é›†ä¸­ã§ãã¾ã™ï¼</p>';
      html += '<p style="font-size: 18px; margin: 20px 0; color: #333;">æœ€å¾Œã¾ã§é›†ä¸­ã—ã¦é ‘å¼µã‚Šã¾ã—ã‚‡ã†ï¼</p>';
      
      // Continue button
      html += '<div style="margin-top: 40px;">';
      html += '<button id="midpoint-continue-btn" style="background-color: #007bff; color: white; border: none; padding: 15px 30px; font-size: 18px; border-radius: 8px; cursor: pointer; font-weight: bold;">å¾ŒåŠé–‹å§‹</button>';
      html += '</div>';
      
      html += '</div>';
      
      return html;
    }

    // Function to generate memory-second midpoint explanation - copied from index.html  
    function generateMemorySecondMidpointExplanation() {
      let html = '<div style="max-width: 900px; margin: 0 auto; padding: 40px; font-family: \'Noto Sans JP\', \'ãƒ’ãƒ©ã‚®ãƒè§’ã‚´ Pro\', \'Hiragino Kaku Gothic Pro\', \'ãƒ¡ã‚¤ãƒªã‚ª\', Meiryo, sans-serif; line-height: 1.8; background-color: #ffffff; text-align: center;">';
      
      html += '<h1 style="color: #2c3e50; margin-bottom: 30px; font-size: 28px; font-weight: bold;">ã“ã‚Œã§å‰åŠãŒçµ‚äº†ã§ã™</h1>';
      
      // Progress indicator
      html += '<div style="background-color: #d4edda; border: 2px solid #c3e6cb; border-radius: 8px; padding: 20px; margin-bottom: 25px;">';
      html += '<h2 style="color: #155724; margin-top: 0; font-size: 20px;">å‰åŠï¼šå›³å½¢æ¢ç´¢ã®ã¿ å®Œäº†</h2>';
      html += '<p style="font-size: 16px; margin: 10px 0; color: #155724;">ãŠç–²ã‚Œæ§˜ã§ã—ãŸï¼å‰åŠã®å›³å½¢æ¢ç´¢ãŒçµ‚äº†ã—ã¾ã—ãŸã€‚</p>';
      html += '</div>';
      
      // What changes in second half - Memory task explanation with images
      html += '<div style="background-color: #fff3cd; border: 2px solid #ffeaa7; border-radius: 8px; padding: 20px; margin-bottom: 25px; text-align: left;">';
      html += '<h2 style="color: #856404; margin-top: 0; font-size: 20px;">å¾ŒåŠã®å¤‰æ›´ç‚¹ï¼šè¨˜æ†¶èª²é¡Œã‚’è¿½åŠ </h2>';
      html += '<p style="font-size: 16px; margin: 10px 0; color: #856404;">å¾ŒåŠã¯ãƒ¯ãƒ¼ã‚­ãƒ³ã‚°ãƒ¡ãƒ¢ãƒªã‚’ä½¿ã†è¨˜æ†¶èª²é¡ŒãŒè¿½åŠ ã•ã‚Œã¾ã™ã€‚</p>';
      
      // Memory task presentation
      html += '<div style="margin: 15px 0; padding: 15px; background-color: #fffbf0; border-radius: 5px;">';
      html += '<h3 style="color: #856404; margin-top: 0; font-size: 16px;">è¨˜æ†¶èª²é¡Œã®æµã‚Œ</h3>';
      html += '<div style="display: flex; gap: 15px; align-items: center; flex-wrap: wrap; margin-bottom: 15px;">';
      html += '<div style="flex: 1; min-width: 200px;">';
      html += '<p style="font-size: 15px; margin: 5px 0; color: #856404;"><strong>1. è¨˜æ†¶èª²é¡Œï¼ˆ3ç§’é–“ï¼‰</strong></p>';
      html += '<p style="font-size: 14px; margin: 5px 0; color: #856404;">4Ã—4ã‚°ãƒªãƒƒãƒ‰ã®è‰²ä»˜ãã‚»ãƒ«ã®ä½ç½®ã‚’è¦šãˆã‚‹</p>';
      html += '</div>';
      html += '<div style="flex: 0 0 auto;">';
      html += '<img src="../screen_shots/7_memory_task_presentation.png" alt="è¨˜æ†¶èª²é¡Œã®è¡¨ç¤º" style="max-width: 300px; height: auto; border: 2px solid #ddd; border-radius: 5px; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">';
      html += '</div>';
      html += '</div>';
      
      html += '<div style="display: flex; gap: 15px; align-items: center; flex-wrap: wrap; margin-bottom: 15px;">';
      html += '<div style="flex: 1; min-width: 200px;">';
      html += '<p style="font-size: 15px; margin: 5px 0; color: #856404;"><strong>2. ã‚¿ãƒ¼ã‚²ãƒƒãƒˆç¢ºèª</strong></p>';
      html += '<p style="font-size: 14px; margin: 5px 0; color: #856404;">æ¢ã™å›³å½¢ã‚’1ç§’é–“ç¢ºèª</p>';
      html += '</div>';
      html += '<div style="flex: 0 0 auto;">';
      html += '<img src="../screen_shots/1_target_presentation.png" alt="ã‚¿ãƒ¼ã‚²ãƒƒãƒˆå›³å½¢" style="max-width: 300px; height: auto; border: 2px solid #ddd; border-radius: 5px; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">';
      html += '</div>';
      html += '</div>';
      
      html += '<div style="color: #856404; font-size: 15px; margin: 10px 0;"><strong>3. å›³å½¢æ¢ç´¢</strong> â†’ ä»Šã¾ã§é€šã‚Šã®å›³å½¢æ¢ç´¢ã‚’å®Ÿè¡Œ</div>';
      
      html += '<div style="display: flex; gap: 15px; align-items: center; flex-wrap: wrap;">';
      html += '<div style="flex: 1; min-width: 200px;">';
      html += '<p style="font-size: 15px; margin: 5px 0; color: #856404;"><strong>4. è¨˜æ†¶èª²é¡Œå›ç­”</strong></p>';
      html += '<p style="font-size: 14px; margin: 5px 0; color: #856404;">æœ€åˆã«è¦šãˆãŸè‰²ä»˜ãã‚»ãƒ«ã®ä½ç½®ã‚’ã‚¯ãƒªãƒƒã‚¯</p>';
      html += '</div>';
      html += '<div style="flex: 0 0 auto;">';
      html += '<img src="../screen_shots/8_memory_task_response.png" alt="è¨˜æ†¶èª²é¡Œã®å›ç­”" style="max-width: 300px; height: auto; border: 2px solid #ddd; border-radius: 5px; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">';
      html += '</div>';
      html += '</div>';
      html += '</div>';
      html += '</div>';
      
      // Tips
      html += '<div style="background-color: #e2e3e5; border: 2px solid #d3d3d4; border-radius: 8px; padding: 15px; margin-bottom: 25px; text-align: left;">';
      html += '<h3 style="color: #383d41; margin-top: 0; font-size: 18px;">ğŸ’¡ å¾ŒåŠã®ã‚³ãƒ„</h3>';
      html += '<p style="font-size: 15px; margin: 5px 0; color: #383d41;">â€¢ å›³å½¢æ¢ç´¢ã«é›†ä¸­ã—ã™ããšã€è¨˜æ†¶èª²é¡Œã‚‚å¿˜ã‚Œãšã«</p>';
      html += '<p style="font-size: 15px; margin: 5px 0; color: #383d41;">â€¢ è‰²ä»˜ãã‚»ãƒ«ã®ä½ç½®ã¯å›³å½¢æ¢ç´¢ä¸­ã‚‚é ­ã®ç‰‡éš…ã§è¦šãˆã¦ãŠã</p>';
      html += '<p style="font-size: 15px; margin: 5px 0; color: #383d41;">â€¢ ä¸¡æ–¹ã®èª²é¡Œã‚’ãƒãƒ©ãƒ³ã‚¹ã‚ˆãè¡Œã†ã“ã¨ãŒé‡è¦</p>';
      html += '</div>';
      
      html += '<p style="font-size: 18px; margin: 20px 0; color: #333;">å¾ŒåŠã‚‚ã•ã‚‰ã«é›†ä¸­ã—ã¦é ‘å¼µã£ã¦ãã ã•ã„ï¼</p>';
      
      // Continue button
      html += '<div style="margin-top: 40px;">';
      html += '<button id="midpoint-continue-btn" style="background-color: #007bff; color: white; border: none; padding: 15px 30px; font-size: 18px; border-radius: 8px; cursor: pointer; font-weight: bold;">å¾ŒåŠé–‹å§‹</button>';
      html += '</div>';
      
      html += '</div>';
      
      return html;
    }

    // Function to generate result screen - copied from index.html
    function generateResultScreen() {
      // Generate dummy data similar to what the real experiment would show
      const searchAccuracy = 87;
      const avgSearchTimeSeconds = 3.2;
      const memoryAccuracy = 73;
      
      let html = `
        <div style="max-width: 700px; margin: 0 auto; padding: 40px 20px; text-align: center; line-height: 1.6;">
          <h1 style="color: #2c3e50; margin-bottom: 30px;">å®Ÿé¨“ã¯çµ‚äº†ã§ã™ã€‚ãŠç–²ã‚Œæ§˜ã§ã—ãŸï¼</h1>
          
          <div style="background-color: #f8f9fa; padding: 30px; border-radius: 10px; margin: 30px 0;">
            <h2 style="color: #495057; margin-bottom: 20px;">å®Ÿé¨“çµæœ</h2>
            <p style="font-size: 18px; margin: 15px 0;">å›³å½¢æ¢ã—ã®æ­£ç­”ç‡ï¼š${searchAccuracy}ï¼…</p>
            <p style="font-size: 18px; margin: 15px 0;">å›³å½¢æ¢ã—ã®ã‚¹ãƒ”ãƒ¼ãƒ‰ï¼šå¹³å‡${avgSearchTimeSeconds}ç§’</p>
            <p style="font-size: 18px; margin: 15px 0;">ãƒ‘ãƒãƒ«è¨˜æ†¶ã®æ­£ç­”ç‡ï¼š${memoryAccuracy}ï¼…</p>
          </div>
          
          <div style="background-color: #e7f3ff; padding: 25px; border-radius: 10px; margin: 30px 0; text-align: left;">
            <h3 style="color: #0056b3; margin-bottom: 15px; text-align: center;">å®Ÿé¨“ã®çµ‚äº†ãƒ—ãƒ­ã‚»ã‚¹</h3>
            <ol style="font-size: 16px; line-height: 1.8; padding-left: 20px;">
              <li>ä¸‹ã®ã€Œçµ‚äº†ã™ã‚‹ã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨å®Ÿé¨“ãƒ‡ãƒ¼ã‚¿ã®é€ä¿¡ãŒè¡Œã‚ã‚Œã¾ã™ã€‚</li>
              <li>ãƒ‡ãƒ¼ã‚¿ã®é€ä¿¡ä¸­ã¯ã€ç”»é¢ã«è‹±èªãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚é€ä¿¡ãŒçµ‚ã‚ã‚‹ã¨çœŸã£ç™½ãªç”»é¢ã«ãªã‚Šã¾ã™ã€‚</li>
              <li>çœŸã£ç™½ãªç”»é¢ã«ãªã£ãŸã‚‰å®Ÿé¨“çµ‚äº†ã§ã™ã€‚ç”»é¢ã‚’é–‰ã˜ã¦æ§‹ã„ã¾ã›ã‚“ã€‚</li>
              <li>ã”å”åŠ›ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸï¼</li>
            </ol>
          </div>
          
          <div style="margin: 30px 0;">
            <button id="end-screen-next-btn" style="padding: 15px 30px; font-size: 18px; background-color: #dc3545; color: white; border: none; border-radius: 8px; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">çµ‚äº†ã™ã‚‹</button>
          </div>
        </div>
      `;
      
      return html;
    }

    // Function to show different pages
    function showPage(pageId) {
      // Hide all pages
      const pages = document.querySelectorAll('.page');
      pages.forEach(page => page.classList.remove('active'));
      
      // Show selected page
      document.getElementById(pageId).classList.add('active');
      
      // Update button states
      const buttons = document.querySelectorAll('.nav-button');
      buttons.forEach(button => button.classList.remove('active'));
      event.target.classList.add('active');
      
      // Load content for the selected page
      loadPageContent(pageId);
      
      // Scroll to top
      window.scrollTo(0, 0);
    }

    // Function to load page content
    function loadPageContent(pageId) {
      let contentHtml = '';
      let targetElementId = '';
      
      switch(pageId) {
        case 'memory-first-initial':
          contentHtml = generateMemoryFirstInitialExplanation();
          targetElementId = 'memory-first-content';
          break;
        case 'memory-second-initial':
          contentHtml = generateMemorySecondInitialExplanation();
          targetElementId = 'memory-second-content';
          break;
        case 'memory-first-midpoint':
          contentHtml = generateMemoryFirstMidpointExplanation();
          targetElementId = 'memory-first-midpoint-content';
          break;
        case 'memory-second-midpoint':
          contentHtml = generateMemorySecondMidpointExplanation();
          targetElementId = 'memory-second-midpoint-content';
          break;
        case 'result':
          contentHtml = generateResultScreen();
          targetElementId = 'result-content';
          break;
      }
      
      if (targetElementId && contentHtml) {
        document.getElementById(targetElementId).innerHTML = contentHtml;
      }
    }
    
    // Initialize the page on load
    document.addEventListener('DOMContentLoaded', function() {
      // Load initial content
      loadPageContent('memory-first-initial');
    });
  </script>
</body>
</html>